pipeline{
    agent {label 'docker'}
    stages {
        stage('build') {
            steps {
            // One or more steps need to be included within the steps block.
            sh """
            ls -la
            echo "FROM alpine:latest" > Dockerfile
            docker build -t test .
            docker image rm test
            rm Dockerfile
            """
            }
        }

        stage('publish') {
            steps {
            // One or more steps need to be included within the steps block.
            echo "pushlish step"
            }
        }

        stage('test') {
            steps {
            // One or more steps need to be included within the steps block.
            echo "test step"
            }
        }

    }

}
